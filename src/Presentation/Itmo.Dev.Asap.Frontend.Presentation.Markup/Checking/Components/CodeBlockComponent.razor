@using Itmo.Dev.Asap.Frontend.Application.Abstractions.Checking.Models

@if (CodeBlock is not null)
{
    <MudStack>

        <MudText Typo="Typo.caption">
            @CodeBlock.Value.FilePath (@CodeBlock.Value.LineFrom:@CodeBlock.Value.LineTo)
        </MudText>

        <MudMarkdown Value="@ToMarkdownCode(CodeBlock.Value)"></MudMarkdown>

    </MudStack>
}

@code {

    [Parameter]
    public CheckingCodeBlock? CodeBlock { get; set; }

    private static string ToMarkdownCode(CheckingCodeBlock codeBlock)
        => $"```{Path.GetExtension(codeBlock.FilePath)}\n{codeBlock.Content}\n```";

}